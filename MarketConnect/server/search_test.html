<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="search.js"></script>
    <script type="text/javascript">
        function search_for(target) {
            // check if target is empty string
            if (target == "") { return }
            /*
            target - what user type, data - data that fetch from the server
            result - data that got from search function
            only this 2 lines of code going to be use on backend
            */
            let data = [
                {
                    id: 18,
                    Food_Name: 'คิมจิ',
                    Price: 70,
                    URL: 'https://ooitkismzzkxarjmwdeb.supabase.co/storage/v1/object/public/Picture_Food/f9lruiwv68.png'
                },
                {
                    id: 14,
                    Food_Name: 'สุกี้',
                    Price: 200,
                    URL: 'https://ooitkismzzkxarjmwdeb.supabase.co/storage/v1/object/public/Picture_Food/er561rrst.png'
                },
                {
                    id: 20,
                    Food_Name: 'ลาซานญ่า',
                    Price: 200,
                    URL: 'https://ooitkismzzkxarjmwdeb.supabase.co/storage/v1/object/public/Picture_Food/578i1snquzh.png'
                },
                {
                    id: 25,
                    Food_Name: 'น้ำมะพร้าว',
                    Price: 40,
                    URL: 'https://ooitkismzzkxarjmwdeb.supabase.co/storage/v1/object/public/Picture_Food/gx5i2b1phfc.png'
                },
                {
                    id: 22,
                    Food_Name: 'ออสโซบูโก',
                    Price: 220,
                    URL: 'https://ooitkismzzkxarjmwdeb.supabase.co/storage/v1/object/public/Picture_Food/iide7zif9y.png'
                },
                {
                    id: 21,
                    Food_Name: 'ซูชิ',
                    Price: 180,
                    URL: 'https://ooitkismzzkxarjmwdeb.supabase.co/storage/v1/object/public/Picture_Food/z2l3s3dem3n.png'
                },
                {
                    id: 12,
                    Food_Name: 'ส้มตำไทย',
                    Price: 50,
                    URL: 'https://ooitkismzzkxarjmwdeb.supabase.co/storage/v1/object/public/Picture_Food/fzc1nmrmjpa.png'
                },
                {
                    id: 11,
                    Food_Name: 'ผัดไทยกุ้งสด',
                    Price: 120,
                    URL: 'https://ooitkismzzkxarjmwdeb.supabase.co/storage/v1/object/public/Picture_Food/vzr4dn2h1g.png'
                },
                {
                    id: 17,
                    Food_Name: 'ทึนยอนชิคเก้น',
                    Price: 180,
                    URL: 'https://ooitkismzzkxarjmwdeb.supabase.co/storage/v1/object/public/Picture_Food/gucxtlpvb0n.png'
                },
                {
                    id: 16,
                    Food_Name: 'บิบิมบับ',
                    Price: 170,
                    URL: 'https://ooitkismzzkxarjmwdeb.supabase.co/storage/v1/object/public/Picture_Food/rbs5c40j0y8.png'
                }
            ]
            result = search(target, data)
            // Use for display result(this is only mocked for testing purposes, it is frontend task)
            display = document.getElementById("display")
            while (display.firstChild) {display.removeChild(display.lastChild)}
            for (const product of result) {
                link = document.createElement("a")
                link.href = product.URL
                temp = document.createElement("DIV")
                link.classList.add("product")
                temp.innerHTML = `${product.Food_Name}\t${product.Price}\t<img src=${product.image} width=30px, height=30px>`
                display.appendChild(link)
                link.appendChild(temp)
            }
        }
    </script>
    <style>
        .product {
            display: flex;
            align-items: center;
            justify-content: left;
            vertical-align: middle;
            text-decoration: inherit;
            color: black;
        }
        .product:hover {
            background-color: darkgray;
            transition: 0.5s;
        }
    </style>
    <title>Document</title>
</head>
<body>
    <input onkeyup="search_for(this.value)">
    <fieldset>
        <legend>Display</legend>
        <div id="display"></div>
    </fieldset>
</body>
</html>